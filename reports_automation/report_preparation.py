import sys
sys.path.insert(0, '/opt/sparkjobs/ml-analytics-service/reports_automation/')

from get_token import get_access_token
from report_create import backEnd_create,frontEnd_create

#access_token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImtpZCI6ImFjY2Vzc3YxX2tleTUifQ.eyJhdWQiOiJodHRwczovL2Rldi5zdW5iaXJkZWQub3JnL2F1dGgvcmVhbG1zL3N1bmJpcmQiLCJzdWIiOiJmOjVhOGEzZjJiLTM0MDktNDJlMC05MDAxLWY5MTNiYzBmZGUzMTpmYjg1YTA0NC1kOWViLTQ3OWItYTU1YS1mYWYxYmZhZWExNGQiLCJyb2xlcyI6W3sicm9sZSI6IkJPT0tfQ1JFQVRPUiIsInNjb3BlIjpbeyJvcmdhbmlzYXRpb25JZCI6IjAxMzUyNjE2MzQ4MDY1NzkyMDMifV19LHsicm9sZSI6IkNPTlRFTlRfQ1JFQVRPUiIsInNjb3BlIjpbeyJvcmdhbmlzYXRpb25JZCI6IjAxMzUyNjE2MzQ4MDY1NzkyMDMifV19LHsicm9sZSI6IkNPVVJTRV9NRU5UT1IiLCJzY29wZSI6W3sib3JnYW5pc2F0aW9uSWQiOiIwMTM1MjYxNjM0ODA2NTc5MjAzIn1dfSx7InJvbGUiOiJPUkdfQURNSU4iLCJzY29wZSI6W3sib3JnYW5pc2F0aW9uSWQiOiIwMTM1MjYxNjM0ODA2NTc5MjAzIn1dfSx7InJvbGUiOiJSRVBPUlRfQURNSU4iLCJzY29wZSI6W3sib3JnYW5pc2F0aW9uSWQiOiIwMTM1MjYxNjM0ODA2NTc5MjAzIn1dfSx7InJvbGUiOiJQVUJMSUMiLCJzY29wZSI6W119XSwiaXNzIjoiaHR0cHM6Ly9kZXYuc3VuYmlyZGVkLm9yZy9hdXRoL3JlYWxtcy9zdW5iaXJkIiwibmFtZSI6IlJlcG9ydCAgQWRtaW4iLCJ0eXAiOiJCZWFyZXIiLCJleHAiOjE2ODYzMjgwMjMsImlhdCI6MTY4NjI4NDgyM30.l31ufs8fydqndZZWb6bbjywwyEC2a7jy0gIjta99w23rSDcN2E6qmNlE5xhlaFYdAqI6nGMT-JDnEFlptKwg5tUMiMfcy1oVDWTdvTp2Z_darLurtN3DFWg1Lxm2fkumDOmPvJciPbj7svEHmR-HUicukp5MWXshC2UabKiGBcpEio8udvCO7dvrhFRGQt6Gq_TcDojhB43SdSLrxMwQIcDHF6bx7toKaQ3fG2kcbKyum9NXc91-lOD8Rk2GnLdBfb-AAlkpUO_wUWlj5P_xUWd8Q2sPTMF1EWKenTpPFzJSm9uWbtYnns2y6zydIIWmDT-tGHdG70LW73b4AJ6r1Q"
access_token = None
response_api = get_access_token()
print(response_api)
if response_api["status_code"] == 200:
   access_token = response_api["result"]["access_token"]


backEnd_create("ml_test_automation")

if (access_token!= None):
    frontEnd_create(access_token,"ml_test_automation")